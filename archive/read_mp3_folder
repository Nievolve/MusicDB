import os
import eyed3
import logging
LOG_FORMAT = ("%(asctime)s, %(lineno)d, %(levelname)s, %(message)s")
logging.basicConfig(filename="eyed3.log",
                    level=logging.DEBUG,
                    filemode="w",
                    format=LOG_FORMAT)
logger = logging.getLogger()
def read_mp3_metadata(file_path):
    audiofile = eyed3.load(file_path)
    
    
    if audiofile.tag:
        logger.DEBUG("File:", file_path)
        logger.DEBUG("Title:", audiofile.tag.title)
        logger.DEBUG("Artist:", audiofile.tag.artist)
        logger.DEBUG("Album:", audiofile.tag.album)
        logger.DEBUG("Year:", audiofile.tag.getBestDate())
    else:
        logger.DEBUG("No metadata found for file:", file_path)

def read_metadata_in_folder(folder_path):
    for root, dirs, files in os.walk(folder_path):
        for file_name in files:
            if file_name.lower().endswith(".mp3"):
                file_path = os.path.join(root, file_name)
                read_mp3_metadata(file_path)

# Ange sökvägen till din mapp här
folder_path = "/Users/andreaslindblad/Documents/Musik"
read_metadata_in_folder(folder_path)
