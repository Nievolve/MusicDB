import os
import logging

logging.basicConfig(filename='loggin.log', level=logging.INFO)

def lista_submappar():
    submappar = []
    target_folder = '/Users/andreaslindblad/Documents/Musik'
    # Använd os.walk för att gå igenom mappen och dess undermappar
    for i, album in enumerate(os.listdir(target_folder), start=1):
        print(f"{i} - {album}")
        submappar.append(album)
    return submappar

def split_artist(lista):
    specifikt_tecken = "-"
    artists = []
    for objekt in lista:
        delad_strang = ""
        for tecken_i_objekt in objekt:
            
            delad_strang += tecken_i_objekt
            if tecken_i_objekt == specifikt_tecken:
                break
        cleaned_str = delad_strang.replace(" ","").replace("-","")
        logging.info(cleaned_str)
        artists.append(cleaned_str)

    return artists

def main():
    # Variabel lista som innehåller alla [Artist - Album]
    submappar = lista_submappar()
    # Kör funktionen som tar in listan och ska splitta den till en lista 
    # innehållande endast [Artist] som kan sättas in i <Artist> table i
    # <music_database.db>
    resultat_lista = split_artist(submappar)
    print(resultat_lista)

if __name__ == '__main__':
    main()
